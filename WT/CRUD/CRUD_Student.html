<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

    <label>name:</label>
    <input type="text" value="" id="name">
    <label>id:</label>
    <input type="text" value="" id="id">
    <label>age:</label>
    <input type="text" value="" id="age">
    <label>grade:</label>
    <input type="text" value="" id="grade">
    <button onclick="addstudent()" class="btn btn-primary" id="btn">add</button>
    <div id="result"></div>


    <script>

        idToEdit = -1;

        const student = [
            {
                id : 101,
                name: "Dr. John Smith",
                age: 18,
                grade: 'A'
            },
            {
                id : 121,
                name: "rudra",
                age: 18,
                grade: 'o'
            }
        ]

        result = document.getElementById('result');
        function displaystudent() {
            temp=''

            temp+='<div class="container mt-3">';
            temp+='<div class ="row">';

            for (i = 0; i < student.length; i++) {

                temp+='<div class="card col-4 me-2 p-0" style="width: 20rem>'
                temp+='<img src="https://du-website.s3.ap-south-1.amazonaws.com/U01/student-Photo/6---28-04-2023-02-06-07.jpg" class="card-img-top">';
                temp+='<div class="card-body">';
                temp+='<h2 class="card-title">' + student[i].name + '</h2>';
                temp+='</div>';
                temp+='<ul class="list-group list-group-flush" type="none"><li class="list-group-item">studentid : ' + student[i].id + '</li><li class="list-group-item">age : ' + student[i].age + '</li><li class="list-group-item">grade : ' + student[i].grade + '</li></ul>';
                temp+='<div class="card-body">';
                temp+='<button type="button" class="btn btn-success">Create</button>';
                temp+='<button type="button" class="btn btn-warning mx-3" onclick="update(' + i + ')">Update</button>';
                temp+='<button type="button" class="btn btn-danger" onclick="delete1('+ i +')">Delete</button>';
                temp+='</div>';
                temp+='</div>';
            }
            temp+='</div>';
            temp+='</div>';
            result.innerHTML=temp;
            
        }
        //temp = "<h1>fdhf</h1>"

        // function setStudent(id){
        // 	idToEdit = id;
        // 	document.getElementById('btn').innerHTML = "Edit"
        // 	document.getElementById('txtName').value = students[id]
        // }

        function update(id) {
            idToEdit = id;
            document.getElementById('btn').innerHTML = "Edit"

            document.getElementById('name').value = student[id].name;

            id1 = document.getElementById('id');
            id1.value = student[id].id;

            age = document.getElementById('age');
            age.value = student[id].age;

            grade = document.getElementById('grade');
            grade.value = student[id].grade;
            //console.log(id);  
            //displaystudent();
        }

        function addstudent() {
            tempobj = {

                name : document.getElementById('name').value,
                id : document.getElementById('id').value,
                age : document.getElementById('age').value,
                grade : document.getElementById('grade').value,
                
            }
            console.log(tempobj);
            if (idToEdit >= 0) {
                student[idToEdit] = tempobj;
                console.log(student);
                idToEdit = -1;
                document.getElementById('btn').innerHTML = "Add";

            }
            else {
                student.push(tempobj);
            }
            document.getElementById('name').value = "";
            document.getElementById('id').value = "";
            document.getElementById('age').value = "";
            document.getElementById('grade').value = "";
            displaystudent();
        }

        function delete1(id){
           let a = confirm('are you sure to delete');
            if(a){
            student.splice(id,1);
            }
            displaystudent();
        }

        displaystudent();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>